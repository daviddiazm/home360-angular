<section class="create-categories">
  <section class="create-categories__form-section">
    <h2 class="create-categories__title">Crear categorías</h2>
    <form class="create-categories__form" action="" [formGroup]="categoryForm" (ngSubmit)="onSave()">
      <app-input-text label="Nombre de la categoría" placeholder="Escribe el nombre de la categoria" [required]="true"
        formControlName="name" [errorMessage]="FormUtils.getFiledError(categoryForm, 'name')">
      </app-input-text>

      <app-text-area label="Descripción de la categoría" placeholder="Escribe la descripcion de la categoria"
        formControlName="description" [required]="true"
        [errorMessage]="FormUtils.getFiledError(categoryForm, 'description')">
      </app-text-area>

      <div *ngIf="isCategorySave">
        <app-notification message="Datos guardados correctamente" type="success"></app-notification>
      </div>

      <div class="create-categories__submit">
        <app-button-submit value="Guardar"></app-button-submit>
      </div>
    </form>
  </section>

  <section class="create-categories__list-section">
    <h2 class="create-categories__title">Lista de categorías</h2>

    <div *ngIf="categoriesPage$ | async as categoriesPage" class="create-categories__table" >
      <app-table
        [columns]="columns"
        [data]="categoriesPage.content">
      </app-table>
    </div>

    <app-pagination-buttons
    [currentPage]="currentPage"
    [pageNumbers]="pageNumbers"
    [totalPages]="totalPages"
    (pageChange)="onPageChange($event)"
    ></app-pagination-buttons>
  </section>
</section>
